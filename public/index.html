<!doctype html>
<html>

<head>
    <script type="text/javascript" src="./webix.js"></script>
    <link rel="stylesheet" type="text/css" href="./webix.css">
</head>

<body>
    <script>
    webix.ready(function() {

        var events = {
            rows: [{
                view: "toolbar",
                elements: [{
                    view: "button",
                    value: "Add row",
                    click: function(id) {
                        console.log(id);
                        $$("events").add({
                            name: "New item"
                        });
                    }
                }, {
                    view: "button",
                    value: "Delete row",
                    click: function(id) {
                        console.log(id);
                        $$("events").remove($$("events").getSelectedId(true));
                    }
                }, {
                    gravity: 2
                }]
            }, {
                id: "events",
                view: "datatable",
                select: "row",
                columns: [{
                    id: "name",
                    header: "Name",
                    editor: "text",
                    fillspace: 1
                }, {
                    id: "year",
                    editor: "text"
                }, {
                    id: "status",
                    editor: "select",
                    options: ["", "Active", "Closed"]
                }, ],
                editable: true,
                editaction: "dblclick",
                url: "/events",
                save: "rest->/events"
            }]
        };
        var persons = {
            rows: [{
                view: "toolbar",
                elements: [{
                    view: "button",
                    value: "Add row",
                    click: function(id) {
                        console.log(id);
                        $$("events").add({
                            name: "New item"
                        });
                    }
                }, {
                    view: "button",
                    value: "Delete row",
                    click: function(id) {
                        console.log(id);
                        $$("events").remove($$("events").getSelectedId(true));
                    }
                }, {
                    gravity: 2
                }]
            }, {
                id: "persons",
                view: "datatable",
                select: "row",
                columns: [{
                    id: "name",
                    header: "Name",
                    editor: "text",
                    fillspace: 1
                }, {
                    id: "year",
                    editor: "text"
                }, {
                    id: "status",
                    editor: "select",
                    options: ["", "Active", "Closed"]
                }, ],
                editable: true,
                editaction: "dblclick",
                url: "/persons",
                save: "rest->/persons"
            }]
        };
        var documents = {
            rows: [{
                view: "toolbar",
                elements: [{
                    view: "button",
                    value: "Add row",
                    click: function(id) {
                        console.log(id);
                        $$("events").add({
                            name: "New item"
                        });
                    }
                }, {
                    view: "button",
                    value: "Delete row",
                    click: function(id) {
                        console.log(id);
                        $$("events").remove($$("events").getSelectedId(true));
                    }
                }, {
                    gravity: 2
                }]
            }, {
                id: "documents",
                view: "datatable",
                select: "row",
                columns: [{
                    id: "name",
                    header: "Name",
                    editor: "text",
                    fillspace: 1
                }, {
                    id: "year",
                    editor: "text"
                }, {
                    id: "status",
                    editor: "select",
                    options: ["", "Active", "Closed"]
                }, ],
                editable: true,
                editaction: "dblclick",
                url: "/documents",
                save: "rest->/documents"
            }]
        };

        //function add_row() {
        //    $$("events").add({
        //        name: "New item"
        //    });
        //}
        //
        //        //function delete_row() {
        //        //    $$("events").remove($$("events").getSelectedId(true));
        //}

        webix.ui({
            rows: [{
                view: "segmented",
                id: 'tabbar',
                value: 'events',
                multiview: true,
                options: [{
                    value: 'Календарь',
                    id: 'events'
                }, {
                    value: 'Люди',
                    id: 'persons'
                }, {
                    value: 'Документы',
                    id: 'documents'
                }]
            }, {
                view: "multiview",
                cells: [events, persons, documents]
            }]
        });
    })

    </script>
</body>

</html>

