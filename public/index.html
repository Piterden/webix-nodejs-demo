<!doctype html>
<html>

<head>
    <script type="text/javascript" src="./webix.js"></script>
    <link rel="stylesheet" type="text/css" href="./webix.css">
</head>

<body>
    <script>
    webix.ready(function() {

        var events = {
            id: "events",
            view: "datatable",
            select: "row",
            columns: [{
                id: "name",
                header: "Name",
                editor: "text",
                fillspace: 1
            }, {
                id: "year",
                editor: "text"
            }, {
                id: "status",
                editor: "select",
                options: ["", "Active", "Closed"]
            }, ],
            editable: true,
            editaction: "dblclick",
            url: "/events",
            save: "rest->/events"

        };
        var persons = {
            id: "persons",
            view: "datatable",
            select: "row",
            columns: [{
                id: "name",
                header: "Name",
                editor: "text",
                fillspace: 1
            }, {
                id: "year",
                editor: "text"
            }, {
                id: "status",
                editor: "select",
                options: ["", "Active", "Closed"]
            }, ],
            editable: true,
            editaction: "dblclick",
            url: "/persons",
            save: "rest->/persons"

        };
        var documents = {
            id: "documents",
            view: "datatable",
            select: "row",
            columns: [{
                id: "name",
                header: "Name",
                editor: "text",
                fillspace: 1
            }, {
                id: "year",
                editor: "text"
            }, {
                id: "status",
                editor: "select",
                options: ["", "Active", "Closed"]
            }, ],
            editable: true,
            editaction: "dblclick",
            url: "/documents",
            save: "rest->/documents"
        };

        var addItem = function() {
            var entityId = $$("tabbar").data.value;
            $$(entityId).add({
                name: "New item"
            });
        };

        var deleteItem = function() {
            var entityId = $$("tabbar").data.value;
            $$(entityId).remove($$(entityId).getSelectedId(true));
        }

        webix.ui({
            rows: [{
                view: "segmented",
                id: "tabbar",
                value: "events",
                multiview: true,
                options: [{
                    value: "Календарь",
                    id: "events"
                }, {
                    value: "Люди",
                    id: "persons"
                }, {
                    value: "Документы",
                    id: "documents"
                }]
            }, {
                view: "toolbar",
                elements: [{
                    view: "button",
                    value: "Add item",
                    click: addItem
                }, {
                    view: "button",
                    value: "Delete item",
                    click: deleteItem
                }, {
                    gravity: 1
                }]
            }, {
                view: "multiview",
                cells: [events, persons, documents]
            }]
        });
    })

    </script>
</body>

</html>

